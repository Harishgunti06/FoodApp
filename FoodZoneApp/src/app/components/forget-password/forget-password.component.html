<div class="container mt-4">
  <h2>Forgot Password</h2>
  <p>Enter your email to receive a verification code.</p>

  <!-- Step 1: Enter Email -->
  <form *ngIf="!codeSent" (ngSubmit)="sendCode()" #emailForm="ngForm">
    <div class="form-group">
      <label for="email">Enter Your Email</label>
      <input type="email"
             name="email"
             [(ngModel)]="email"
             #emailRef="ngModel"
             required
             class="form-control"
             id="email"
             placeholder="Enter email">
      <div *ngIf="emailRef.invalid && emailRef.touched" style="color:red;">
        Valid email is required.
      </div>
    </div>
    <button type="submit" class="btn btn-primary mt-2" [disabled]="emailForm.invalid">Send Code</button>
  </form>

  <!-- Step 2: Enter Code -->
  <form *ngIf="codeSent" (ngSubmit)="verifyCode()" #codeForm="ngForm">
    <div class="form-group">
      <label for="code">Enter Verification Code</label>
      <input type="text"
             name="code"
             [(ngModel)]="enteredCode"
             required
             class="form-control"
             id="code"
             placeholder="Enter code you received">
    </div>
    <button type="submit" class="btn btn-success mt-2" [disabled]="codeForm.invalid">Submit</button>
  </form>
  <div *ngIf="statusMessage" class="mt-3 alert alert-info">
    {{ statusMessage }}
  </div>

</div>
